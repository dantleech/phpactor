{
    "artifacts": {
        "source_dir": "lib",
        "php_versions": [ 7.1, 7.2, 7.3 ],
        "phpstan_level": 7,
        "phpstan_ignore": [],
        "travis_checks": [
            "./vendor/bin/php-cs-fixer fix --dry-run",
            "./vendor/bin/phpstan analyse lib -c phpstan.neon",
            "./vendor/bin/phpunit"
        ]
    },
    "packages": {
        "phpactor/class-mover": {
            "prototype": "default",
            "artifacts": {
                "phpstan_level": 4,
                "phpstan_ignore": [
                    "'#Microsoft.PhpParser.Node::getText.* invoked with 1 parameter, 0 required#'"
                ]
            }
        },
        "phpactor/class-to-file": {
            "prototype": "default"
        },
        "phpactor/class-to-file-extension": {
            "prototype": "default"
        },
        "phpactor/code-builder": {
            "prototype": "default"
        },
        "phpactor/code-transform": {
            "prototype": "default"
        },
        "phpactor/code-transform-extension": {
            "prototype": "default"
        },
        "phpactor/completion": {
            "prototype": "default"
        },
        "phpactor/completion-extension": {
            "prototype": "default"
        },
        "phpactor/completion-rpc-extension": {
            "prototype": "default"
        },
        "phpactor/completion-worse-extension": {
            "prototype": "default"
        },
        "phpactor/composer-autoloader-extension": {
            "prototype": "default"
        },
        "phpactor/config-loader": {
            "prototype": "default"
        },
        "phpactor/console-extension": {
            "prototype": "default"
        },
        "phpactor/container": {
            "prototype": "default"
        },
        "phpactor/docblock": {
            "prototype": "default"
        },
        "phpactor/extension-manager-extension": {
            "prototype": "default"
        },
        "phpactor/file-path-resolver": {
            "prototype": "default"
        },
        "phpactor/file-path-resolver-extension": {
            "prototype": "default"
        },
        "phpactor/logging-extension": {
            "prototype": "default"
        },
        "phpactor/map-resolver": {
            "prototype": "default"
        },
        "phpactor/path-finder": {
            "prototype": "default"
        },
        "phpactor/reference-finder": {
            "prototype": "default"
        },
        "phpactor/reference-finder-extension": {
            "prototype": "default"
        },
        "phpactor/reference-finder-rpc-extension": {
            "prototype": "default"
        },
        "phpactor/rpc-extension": {
            "prototype": "default"
        },
        "phpactor/source-code-filesystem": {
            "prototype": "default"
        },
        "phpactor/source-code-filesystem-extension": {
            "prototype": "default"
        },
        "phpactor/test-utils": {
            "prototype": "default"
        },
        "phpactor/text-document": {
            "prototype": "default"
        },
        "phpactor/worse-reflection": {
            "artifacts": {
                "travis_checks": [
                    "vendor/bin/php-cs-fixer fix --dry-run --diff --diff-format=udiff",
                    "vendor/bin/phpstan analyze lib/ --level=2",
                    "vendor/bin/phpunit",
                    "vendor/bin/phpbench run --report=aggregate --progress=travis --store --iterations=1",
                    "tests/Smoke/smoke_test.php --limit=100"
                ]
            },
            "prototype": "default"
        },
        "phpactor/worse-reflection-extension": {
            "prototype": "default"
        }
    },
    "prototypes": {
        "default": {
            "tasks": {
                "init": {
                    "type": "null",
                    "depends": ["git clone"]
                },
                "git clone": {
                    "type": "git",
                    "parameters": {
                        "url": "git@github.com:$PACKAGE_NAME"
                    }
                },
                "travis": {
                    "type": "template",
                    "parameters": {
                        "path": "maestro/travis.yml",
                        "targetPath": ".travis.yml"
                    },
                    "depends": ["init"]
                },
                "gitignore": {
                    "type": "template",
                    "parameters": {
                        "path": "maestro/gitignore",
                        "targetPath": ".gitignore"
                    },
                    "depends": ["init"]
                },
                "php_cs": {
                    "type": "template",
                    "parameters": {
                        "path": "maestro/php_cs.dist",
                        "targetPath": ".php_cs.dist"
                    },
                    "depends": ["init"]
                },
                "phpstan_config": {
                    "type": "template",
                    "parameters": {
                        "path": "maestro/phpstan.neon",
                        "targetPath": "phpstan.neon"
                    },
                    "depends": ["init"]
                },
                "templates": {
                    "type": "null",
                    "depends": ["travis","php_cs","gitignore","phpstan_config"]
                },
                "composer require": {
                    "type": "script",
                    "parameters": {
                        "script": "composer require friendsofphp/php-cs-fixer:~2.15.0 phpstan/phpstan:~0.11.0 --no-update --dev --prefer-stable"
                    },
                    "depends": ["init"]
                },
                "composer": {
                    "type": "script",
                    "parameters": {
                        "script": "composer install"
                    },
                    "depends": ["composer require"]
                },
                "phpunit": {
                    "type": "script",
                    "parameters": {
                        "script": "./vendor/bin/phpunit"
                    },
                    "depends": ["composer"]
                },
                "php-cs-fixer": {
                    "type": "script",
                    "parameters": {
                        "script": "./vendor/bin/php-cs-fixer fix"
                    },
                    "depends": ["composer", "templates"]
                },
                "phpstan": {
                    "type": "script",
                    "parameters": {
                        "script": "./vendor/bin/phpstan analyse -c phpstan.neon"
                    },
                    "depends": ["composer","templates"]
                }
            }
        }
    }
}
